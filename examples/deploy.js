const NervosWeb3 = require('../lib');
const SERVER = 'http://121.196.200.225:1337';
const web3 = NervosWeb3.default(SERVER);

const tx = {
  from: '0xb4061fA8E18654a7d51FEF3866d45bB1DC688717',
  privateKey: '2c5c6c187d42e58a4c212a4aab0a3cfa4030256ed82bb3e05706706ab5be9641',
  nonce: 999999,
  quota: 1000000,
  data: '6060604052341561000f57600080fd5b60d38061001d6000396000f3006060604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c14606e575b600080fd5b3415605857600080fd5b606c60048080359060200190919050506094565b005b3415607857600080fd5b607e609e565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a723058202d9a0979adf6bf48461f24200e635bc19cd1786efbcfc0608eb1d76114d405860029',
  chainId: 1,
  version: 0,
  validUntilBlock: 999999
}


web3.cita.getBlockNumber().then(blocknumber => {
  tx.validUntilBlock = +blocknumber + 88
  web3.cita.deploy(tx.data, tx)
})
